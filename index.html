<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Ch·ªß - H·ªì S∆° B√†i T·∫≠p</title>
    <style>
        /* Thi·∫øt l·∫≠p chung */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
}

body {
    padding: 20px;
    background-color: #f4f4f9;
    color: #333;
}

h1 {
    text-align: center;
    margin-bottom: 30px;
    color: #007bff;
}

/* -------------------------------------------------------------------------- */
/* B√ÄI 1: CAROUSEL                           */
/* -------------------------------------------------------------------------- */
.carousel-container {
    max-width: 800px;
    margin: 0 auto;
    position: relative;
    overflow: hidden; /* Quan tr·ªçng ƒë·ªÉ ch·ªâ hi·ªÉn th·ªã slide hi·ªán t·∫°i */
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

.carousel-slide {
    display: flex;
    /* D√πng transform ƒë·ªÉ chuy·ªÉn slide, t·ªëi ∆∞u h∆°n d√πng left/margin */
    transform: translateX(0); 
    transition: transform 0.5s ease-in-out; /* Hi·ªáu ·ª©ng chuy·ªÉn ƒë·ªông */
    width: 100%;
}

.carousel-slide img {
    width: 100%;
    /* Flex-shrink: 0 ƒë·∫£m b·∫£o ·∫£nh kh√¥ng b·ªã co l·∫°i, m·ªói ·∫£nh chi·∫øm ƒë√∫ng 100% chi·ªÅu r·ªông c·ªßa container */
    flex-shrink: 0; 
    height: auto;
    display: block;
}

.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border: none;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 18px;
    z-index: 10;
    opacity: 0.8;
    transition: opacity 0.2s;
}

.carousel-btn:hover {
    opacity: 1;
}

#prevBtn {
    left: 10px;
    border-radius: 5px 0 0 5px;
}

#nextBtn {
    right: 10px;
    border-radius: 0 5px 5px 0;
}

/* Responsive cho Carousel */
@media (max-width: 600px) {
    .carousel-container {
        max-width: 100%;
        border-radius: 0;
    }
    .carousel-btn {
        padding: 5px 8px;
        font-size: 14px;
    }
}


/* -------------------------------------------------------------------------- */
/* B√ÄI 2: TODO LIST                          */
/* -------------------------------------------------------------------------- */
.todo-container {
    max-width: 600px;
    margin: 0 auto;
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.todo-input-group {
    display: flex;
    margin-bottom: 20px;
}

.todo-input-group input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px 0 0 4px;
    font-size: 16px;
}

.todo-input-group button {
    padding: 10px 15px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 0 4px 4px 0;
    cursor: pointer;
    transition: background-color 0.2s;
}

.todo-input-group button:hover {
    background-color: #218838;
}

.todo-list {
    list-style: none;
    padding: 0;
    /* S·ª≠ d·ª•ng CSS Grid cho danh s√°ch task */
    display: grid; 
    gap: 10px;
}

.todo-item {
    display: grid;
    /* C·ªôt 1: N·ªôi dung (t·ª± ƒë·ªông m·ªü r·ªông), C·ªôt 2 & 3: N√∫t (k√≠ch th∆∞·ªõc c·ªë ƒë·ªãnh) */
    grid-template-columns: 1fr auto auto; 
    align-items: center;
    background: #f9f9f9;
    padding: 10px;
    border-radius: 4px;
    border-left: 5px solid #007bff;
    transition: background-color 0.2s;
}

.todo-item.editing .task-text {
    display: none;
}

.todo-item:hover {
    background-color: #e9ecef;
}

.task-text {
    word-break: break-word; /* ƒê·∫£m b·∫£o ch·ªØ d√†i kh√¥ng l√†m v·ª° layout */
}

.task-edit-input {
    width: 100%;
    padding: 5px;
    border: 1px solid #007bff;
    border-radius: 4px;
    font-size: 16px;
    display: none; /* M·∫∑c ƒë·ªãnh ·∫©n */
}

.todo-item.editing .task-edit-input {
    display: block; /* Hi·ªán khi ƒëang ch·ªânh s·ª≠a */
}

.todo-item button {
    padding: 8px 10px;
    margin-left: 8px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    transition: opacity 0.2s;
}

.todo-item button.delete-btn {
    background-color: #dc3545;
    color: white;
}

.todo-item button.edit-btn,
.todo-item button.save-btn {
    background-color: #ffc107;
    color: #333;
}

.todo-item button.save-btn {
    display: none;
    background-color: #007bff;
    color: white;
}

.todo-item.editing .edit-btn {
    display: none;
}

.todo-item.editing .save-btn {
    display: block;
}


/* -------------------------------------------------------------------------- */
/* B√ÄI 3: GUESSING GAME                      */
/* -------------------------------------------------------------------------- */
.game-container {
    max-width: 400px;
    margin: 0 auto;
    text-align: center;
    background: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
}

.game-input-group {
    margin: 20px 0;
}

.game-input-group input {
    padding: 10px;
    width: 100px;
    text-align: center;
    font-size: 18px;
    border: 2px solid #ccc;
    border-radius: 5px 0 0 5px;
    margin-right: -1px; /* ƒê·ªÉ n√∫t v√† input d√≠nh v√†o nhau */
}

.game-input-group button {
    padding: 10px 15px;
    background-color: #17a2b8;
    color: white;
    border: 2px solid #17a2b8;
    border-radius: 0 5px 5px 0;
    cursor: pointer;
    font-size: 18px;
    transition: background-color 0.2s;
}

.game-input-group button:hover {
    background-color: #138496;
}

#message {
    min-height: 40px;
    font-size: 1.1em;
    font-weight: bold;
    margin-bottom: 15px;
}

#attempts {
    font-size: 1.2em;
    color: #007bff;
    margin-bottom: 20px;
}

/* Confetti Animation (ƒê∆°n gi·∫£n) */
.confetti-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none; /* Cho ph√©p click xuy√™n qua */
    z-index: 1000;
}

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background-color: gold;
    opacity: 0;
    animation: confetti-fall 3s ease-out forwards;
}

@keyframes confetti-fall {
    0% {
        transform: translate(var(--x), var(--y)) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translate(var(--x-end), var(--y-end)) rotate(720deg);
        opacity: 0;
    }
}

/* --- PH·∫¶N LAYOUT CHUNG V√Ä TYPOGRAPHY --- */

body {
    /* ƒê√£ thi·∫øt l·∫≠p ·ªü tr√™n, ƒë·∫£m b·∫£o n·ªÅn nh·∫π, ch·ªØ d·ªÖ ƒë·ªçc */
    background-color: #f8f9fa; /* N·ªÅn tr·∫Øng/x√°m nh·∫π h∆°n */
    color: #343a40;
    line-height: 1.6;
    padding: 0; /* X√≥a padding body ƒë·ªÉ nav chi·∫øm to√†n b·ªô chi·ªÅu ngang */
}

.container {
    max-width: 960px; /* Gi·ªõi h·∫°n chi·ªÅu r·ªông n·ªôi dung */
    margin: 30px auto;
    padding: 0 20px;
}

h1, h2, h3 {
    font-weight: 700;
    margin-top: 25px;
    margin-bottom: 15px;
}

h1 {
    font-size: 2.5em;
    color: #007bff; /* M√†u xanh d∆∞∆°ng ch·ªß ƒë·∫°o */
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 1px;
}

h2 {
    font-size: 1.8em;
    color: #28a745; /* M√†u xanh l√° cho ph·∫ßn m·ª•c l·ª•c */
    border-bottom: 2px solid #e9ecef;
    padding-bottom: 5px;
}

/* --- THANH ƒêI·ªÄU H∆Ø·ªöNG (NAVBAR) --- */

.navbar {
    background-color: #343a40; /* N·ªÅn t·ªëi cho navbar */
    padding: 15px 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.navbar-container {
    max-width: 960px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    justify-content: flex-start; /* D·ªãch chuy·ªÉn c√°c li√™n k·∫øt v·ªÅ b√™n tr√°i */
    align-items: center;
}

.navbar a {
    color: #fff; /* Ch·ªØ tr·∫Øng */
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1em;
    padding: 10px 15px;
    transition: background-color 0.3s, color 0.3s;
    border-radius: 4px;
    margin-right: 10px; /* Kho·∫£ng c√°ch gi·ªØa c√°c m·ª•c */
}

.navbar a:hover {
    background-color: #007bff; /* Hover: M√†u xanh d∆∞∆°ng ch·ªß ƒë·∫°o */
    color: white;
}

/* --- PH·∫¶N N·ªòI DUNG TRANG CH·ª¶ (index.html) --- */

.welcome-section {
    text-align: center;
    margin-bottom: 40px;
}

.welcome-section p {
    font-size: 1.1em;
    color: #6c757d;
}

.task-list {
    list-style-type: none;
    padding-left: 0;
}

.task-list li {
    background-color: #ffffff;
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    transition: transform 0.2s;
}

.task-list li:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.task-list a {
    color: #28a745; /* M√†u xanh l√° cho li√™n k·∫øt b√†i t·∫≠p */
    text-decoration: none;
    font-weight: bold;
}

.task-list a:hover {
    text-decoration: underline;
}

/* --- PH·∫¶N TH√îNG TIN CHUNG (Footer/Info) --- */

.info-box {
    background-color: #e9ecef;
    padding: 20px;
    border-radius: 8px;
    margin-top: 30px;
    text-align: center;
}

.info-box p {
    margin: 5px 0;
    font-size: 0.95em;
}

/* --- FOOTER --- */

footer {
    text-align: center;
    margin-top: 50px;
    padding: 20px;
    border-top: 1px solid #dee2e6;
    font-size: 0.9em;
    color: #6c757d;
}

/* --- C√ÅC TRANG PH·ª§ (V·ªÅ t√¥i/Li√™n h·ªá) --- */

.page-content {
    background-color: white;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
}

/* Trang V·ªÅ t√¥i */
.about-me-grid {
    display: grid;
    grid-template-columns: 150px 1fr;
    gap: 20px;
    align-items: center;
}

.about-me-grid img {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 50%; /* ·∫¢nh ch√¢n dung tr√≤n */
    border: 4px solid #007bff;
}

/* Trang Li√™n h·ªá */
.contact-form label {
    display: block;
    margin-top: 10px;
    font-weight: bold;
}

.contact-form input[type="text"],
.contact-form input[type="email"],
.contact-form textarea {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1em;
}

.contact-form textarea {
    resize: vertical;
    min-height: 100px;
}

.contact-form button {
    background-color: #28a745;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 15px;
    font-size: 1.1em;
    transition: background-color 0.3s;
}

.contact-form button:hover {
    background-color: #218838;
}
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html">Trang Ch·ªß</a>
            <a href="about.html">V·ªÅ T√¥i</a>
            <a href="contact.html">Li√™n H·ªá</a>
        </div>
    </nav>

    <div class="container">
        <header class="welcome-section">
            <h1>Ch√†o m·ª´ng ƒë·∫øn v·ªõi H·ªì S∆° B√†i T·∫≠p C·ªßa Nguy·ªÖn B·∫£o C∆∞·ªùng</h1>
            <p>ƒê√¢y l√† t·∫≠p h·ª£p c√°c b√†i t·∫≠p l·ªõn m√¥n L·∫≠p tr√¨nh Web Frontend.</p>
        </header>

        <section class="page-content">
            <h2>C√°c B√†i T·∫≠p ƒê√£ Ho√†n Th√†nh</h2>
            <ul class="task-list">
                <li><a href="baitap01.html">B√†i 1: Carousel H√¨nh ·∫£nh Responsive (20 ƒëi·ªÉm)</a></li>
                <li><a href="baitap02.html">B√†i 2: Todo List v·ªõi LocalStorage v√† CSS Grid (20 ƒëi·ªÉm)</a></li>
                <li><a href="baitap03.html">B√†i 3: Game ƒêo√°n S·ªë ng·∫´u nhi√™n v·ªõi CSS Animation (20 ƒëi·ªÉm)</a></li>
            </ul>

            <div class="info-box">
                <h2>Th√¥ng tin Chung</h2>
                <p><strong>Sinh vi√™n:</strong> Nguy·ªÖn B·∫£o C∆∞·ªùng</p>
                <p>S·ª≠ d·ª•ng HTML/CSS/JavaScript thu·∫ßn ƒë·ªÉ ho√†n th√†nh c√°c y√™u c·∫ßu c·ªßa ƒë·ªÅ thi s·ªë 2.</p>
            </div>
        </section>
    </div>

    <footer>
        <p>¬© 2025 Nguy·ªÖn B·∫£o C∆∞·ªùng. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
    // K√≠ch ho·∫°t c√°c ch·ª©c nƒÉng t∆∞∆°ng ·ª©ng n·∫øu element t·ªìn t·∫°i
    if (document.getElementById('carousel-slide')) {
        setupCarousel();
    }
    if (document.getElementById('todo-form')) {
        setupTodoApp();
    }
    if (document.getElementById('guess-form')) {
        setupGuessingGame();
    }
});


/* -------------------------------------------------------------------------- */
/* B√ÄI 1: CAROUSEL                           */
/* -------------------------------------------------------------------------- */

function setupCarousel() {
    const slideContainer = document.getElementById('carousel-slide');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    
    // Gi·∫£ s·ª≠ m·ªói ·∫£nh trong HTML l√† m·ªôt slide
    const slides = slideContainer.querySelectorAll('img');
    const totalSlides = slides.length; 
    let currentIndex = 0; // B·∫Øt ƒë·∫ßu t·ª´ slide ƒë·∫ßu ti√™n
    let intervalId;

    if (totalSlides === 0) return;

    // H√†m c·∫≠p nh·∫≠t v·ªã tr√≠ slide
    const updateSlide = () => {
        // D√πng CSS transform ƒë·ªÉ chuy·ªÉn ƒë·ªông. 
        // V·ªã tr√≠: -(currentIndex * 100%)
        slideContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
    };

    // H√†m chuy·ªÉn slide ti·∫øp theo
    const nextSlide = () => {
        // **Logic x·ª≠ l√Ω index tr√°nh out-of-bound:**
        // N·∫øu l√† slide cu·ªëi (totalSlides - 1), chuy·ªÉn v·ªÅ 0 (slide ƒë·∫ßu ti√™n).
        // Ng∆∞·ª£c l·∫°i, tƒÉng index l√™n 1.
        currentIndex = (currentIndex + 1) % totalSlides;
        updateSlide();
    };

    // H√†m chuy·ªÉn slide tr∆∞·ªõc ƒë√≥
    const prevSlide = () => {
        // **Logic x·ª≠ l√Ω index tr√°nh out-of-bound:**
        // N·∫øu l√† slide ƒë·∫ßu (0), chuy·ªÉn v·ªÅ slide cu·ªëi (totalSlides - 1).
        // Ng∆∞·ª£c l·∫°i, gi·∫£m index ƒëi 1.
        currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
        updateSlide();
    };

    // T·ª± ƒë·ªông chuy·ªÉn slide sau 3 gi√¢y
    const startAutoSlide = () => {
        // X√≥a interval c≈© tr∆∞·ªõc khi t·∫°o m·ªõi ƒë·ªÉ tr√°nh l·ªói l·∫∑p
        clearInterval(intervalId); 
        intervalId = setInterval(nextSlide, 3000);
    };

    // X·ª≠ l√Ω s·ª± ki·ªán n√∫t
    nextBtn.addEventListener('click', () => {
        nextSlide();
        startAutoSlide(); // Reset th·ªùi gian t·ª± ƒë·ªông chuy·ªÉn khi ng∆∞·ªùi d√πng thao t√°c
    });

    prevBtn.addEventListener('click', () => {
        prevSlide();
        startAutoSlide(); // Reset th·ªùi gian t·ª± ƒë·ªông chuy·ªÉn khi ng∆∞·ªùi d√πng thao t√°c
    });

    // B·∫Øt ƒë·∫ßu t·ª± ƒë·ªông ch·∫°y l·∫ßn ƒë·∫ßu
    startAutoSlide();
}


/* -------------------------------------------------------------------------- */
/* B√ÄI 2: TODO LIST                          */
/* -------------------------------------------------------------------------- */

// State (tr·∫°ng th√°i) c·ªßa ·ª©ng d·ª•ng, ƒë∆∞·ª£c ƒë·ªìng b·ªô v·ªõi LocalStorage
let todos = JSON.parse(localStorage.getItem('todos')) || []; 

function saveTodos() {
    localStorage.setItem('todos', JSON.stringify(todos));
}

function renderTodos() {
    const todoList = document.getElementById('todo-list');
    if (!todoList) return;

    // **Logic t∆∞ duy: Render l·∫°i DOM hi·ªáu qu·∫£**
    // 1. D√πng .innerHTML = '' ƒë·ªÉ x√≥a to√†n b·ªô, sau ƒë√≥ render l·∫°i. 
    //    (ƒê∆°n gi·∫£n, d·ªÖ implement, performance ch·∫•p nh·∫≠n ƒë∆∞·ª£c v·ªõi danh s√°ch nh·ªè).
    // 2. D√πng DocumentFragment ho·∫∑c so s√°nh DOM (virtual DOM) (Ph·ª©c t·∫°p h∆°n, t·ªët h∆°n cho danh s√°ch r·∫•t l·ªõn).
    // => ·ªû ƒë√¢y ch·ªçn ph∆∞∆°ng √°n 1 cho s·ª± ƒë∆°n gi·∫£n v√† ph√π h·ª£p v·ªõi y√™u c·∫ßu c∆° b·∫£n.
    todoList.innerHTML = ''; 

    todos.forEach((todo, index) => {
        const listItem = document.createElement('li');
        listItem.classList.add('todo-item');
        listItem.dataset.index = index; // D√πng data-index ƒë·ªÉ x√°c ƒë·ªãnh task

        // N·∫øu task ƒëang ·ªü ch·∫ø ƒë·ªô ch·ªânh s·ª≠a
        if (todo.editing) {
            listItem.classList.add('editing');
        }

        listItem.innerHTML = `
            <span class="task-text">${todo.text}</span>
            <input type="text" class="task-edit-input" value="${todo.text}">
            <button class="edit-btn" onclick="toggleEdit(${index})">S·ª≠a</button>
            <button class="save-btn" onclick="saveEdit(${index})">L∆∞u</button>
            <button class="delete-btn" onclick="deleteTodo(${index})">X√≥a</button>
        `;
        todoList.appendChild(listItem);
    });
}

function addTodo() {
    const input = document.getElementById('todo-input');
    const text = input.value.trim();

    if (text) {
        // **Logic x·ª≠ l√Ω m·∫£ng state:**
        // Th√™m ƒë·ªëi t∆∞·ª£ng m·ªõi v√†o m·∫£ng `todos` (state)
        todos.push({ text: text, editing: false });
        input.value = '';
        saveTodos();  // L∆∞u state m·ªõi
        renderTodos(); // Render l·∫°i DOM
    }
}

function deleteTodo(index) {
    // **Logic x·ª≠ l√Ω m·∫£ng state:**
    // D√πng splice ƒë·ªÉ x√≥a ph·∫ßn t·ª≠ t·∫°i index kh·ªèi m·∫£ng `todos`
    todos.splice(index, 1);
    saveTodos();
    renderTodos();
}

function toggleEdit(index) {
    // **Logic x·ª≠ l√Ω m·∫£ng state:**
    // C·∫≠p nh·∫≠t thu·ªôc t√≠nh 'editing' c·ªßa ƒë·ªëi t∆∞·ª£ng task
    todos[index].editing = true;
    renderTodos();
}

function saveEdit(index) {
    const listItem = document.querySelector(`.todo-item[data-index="${index}"]`);
    const newText = listItem.querySelector('.task-edit-input').value.trim();

    if (newText) {
        // **Logic x·ª≠ l√Ω m·∫£ng state:**
        todos[index].text = newText;
        todos[index].editing = false;
        saveTodos();
        renderTodos();
    }
}


function setupTodoApp() {
    // G√°n h√†m addTodo cho n√∫t Th√™m Task v√† s·ª± ki·ªán Enter trong input
    document.getElementById('todo-form').addEventListener('submit', (e) => {
        e.preventDefault();
        addTodo();
    });

    // L·∫ßn ƒë·∫ßu ti√™n t·∫£i trang, render d·ªØ li·ªáu t·ª´ LocalStorage
    renderTodos();
}


/* -------------------------------------------------------------------------- */
/* B√ÄI 3: GUESSING GAME                      */
/* -------------------------------------------------------------------------- */

let targetNumber;
let attempts = 0;

function generateTargetNumber() {
    // **Logic t∆∞ duy: C√°ch generate random**
    // Math.random(): Tr·∫£ v·ªÅ s·ªë th·ª±c [0, 1)
    // Math.random() * 100: Tr·∫£ v·ªÅ s·ªë th·ª±c [0, 100)
    // Math.floor(Math.random() * 100): Tr·∫£ v·ªÅ s·ªë nguy√™n [0, 99]
    // Math.floor(Math.random() * 100) + 1: Tr·∫£ v·ªÅ s·ªë nguy√™n **[1, 100]**
    targetNumber = Math.floor(Math.random() * 100) + 1;
    attempts = 0;
    console.log("S·ªë b√≠ m·∫≠t (ch·ªâ ƒë·ªÉ debug):", targetNumber);
}

function checkGuess() {
    const inputElement = document.getElementById('guess-input');
    const messageElement = document.getElementById('message');
    const attemptsElement = document.getElementById('attempts');
    
    // **Logic t∆∞ duy: X·ª≠ l√Ω input ƒë·ªÉ tr√°nh l·ªói**
    const guess = parseInt(inputElement.value);

    // Ki·ªÉm tra t√≠nh h·ª£p l·ªá c·ªßa input
    if (isNaN(guess) || guess < 1 || guess > 100) {
        messageElement.textContent = "Vui l√≤ng nh·∫≠p m·ªôt s·ªë t·ª´ 1 ƒë·∫øn 100 h·ª£p l·ªá.";
        inputElement.value = '';
        return;
    }

    attempts++;
    attemptsElement.textContent = `S·ªë l·∫ßn th·ª≠: ${attempts}`;

    if (guess < targetNumber) {
        messageElement.textContent = "Qu√° th·∫•p! H√£y th·ª≠ l·∫°i.";
        messageElement.style.color = '#dc3545';
    } else if (guess > targetNumber) {
        messageElement.textContent = "Qu√° cao! H√£y th·ª≠ l·∫°i.";
        messageElement.style.color = '#dc3545';
    } else {
        messageElement.textContent = `CH√çNH X√ÅC! B·∫°n ƒë√£ ƒëo√°n ƒë√∫ng s·ªë ${targetNumber} sau ${attempts} l·∫ßn th·ª≠! üéâ`;
        messageElement.style.color = '#28a745';
        
        // Hi·ªÉn th·ªã Confetti
        showConfetti(); 

        // T·∫Øt input v√† n√∫t ƒëo√°n
        inputElement.disabled = true;
        document.getElementById('guess-btn').disabled = true;
    }

    inputElement.value = '';
    inputElement.focus();
}

function resetGame() {
    generateTargetNumber();
    document.getElementById('message').textContent = "B·∫Øt ƒë·∫ßu ƒëo√°n s·ªë!";
    document.getElementById('message').style.color = '#333';
    document.getElementById('attempts').textContent = `S·ªë l·∫ßn th·ª≠: 0`;
    document.getElementById('guess-input').value = '';
    document.getElementById('guess-input').disabled = false;
    document.getElementById('guess-btn').disabled = false;
    document.querySelector('.confetti-container')?.remove(); // X√≥a confetti c≈©
}


function showConfetti() {
    const container = document.createElement('div');
    container.classList.add('confetti-container');
    document.body.appendChild(container);

    for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        
        // T·∫°o v·ªã tr√≠ v√† h∆∞·ªõng r∆°i ng·∫´u nhi√™n
        const xStart = Math.random() * window.innerWidth;
        const yStart = Math.random() * -100;
        const xEnd = xStart + (Math.random() - 0.5) * 400;
        const yEnd = window.innerHeight + 100;
        const delay = Math.random() * 2;
        
        confetti.style.left = `${xStart}px`;
        confetti.style.top = `${yStart}px`;
        confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
        confetti.style.animationDelay = `${delay}s`;
        
        // Truy·ªÅn bi·∫øn CSS ƒë·ªÉ t·∫°o hi·ªáu ·ª©ng r∆°i kh√°c nhau
        confetti.style.setProperty('--x', '0');
        confetti.style.setProperty('--y', '0');
        confetti.style.setProperty('--x-end', `${xEnd - xStart}px`);
        confetti.style.setProperty('--y-end', `${yEnd - yStart}px`);

        container.appendChild(confetti);
    }
}


function setupGuessingGame() {
    resetGame(); // Kh·ªüi t·∫°o s·ªë ng·∫´u nhi√™n

    document.getElementById('guess-form').addEventListener('submit', (e) => {
        e.preventDefault();
        checkGuess();
    });
    
    document.getElementById('reset-btn').addEventListener('click', resetGame);
}

// Export c√°c h√†m c·∫ßn thi·∫øt ra global scope ƒë·ªÉ c√≥ th·ªÉ g·ªçi t·ª´ HTML (v√≠ d·ª•: onclick)
window.toggleEdit = toggleEdit;
window.saveEdit = saveEdit;
window.deleteTodo = deleteTodo;
window.resetGame = resetGame;
    </script>
</body>
</html>


